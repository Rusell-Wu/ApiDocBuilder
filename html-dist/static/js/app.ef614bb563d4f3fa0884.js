webpackJsonp([1],{"2Qn3":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("7+uW"),s=a("mvHQ"),n=a.n(s),o=a("mtWM"),i=a.n(o),r={name:"apiTest",props:{api:{type:Object,default:{}},visible:{type:Boolean,default:!1}},data:function(){return{}},methods:{postRequest:function(){var t=this,e=localStorage.getItem("token"),a={"Content-Type":"application/json"};null!==e&&(a["Access-Token"]=e),i.a.post(t.api.path,JSON.parse(t.api.param),{headers:a}).then(function(e){t.api.result=n()(e.data)})},back:function(){this.$emit("on-close")},toFormat:function(){var t=JSON.parse(this.api.param);this.api.param=n()(t,void 0,4)}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visible?a("div",{staticClass:"root"},[a("el-row",[a("h2",[t._v("接口测试")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.back}},[t._v("返回")])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请求路径"},model:{value:t.api.path,callback:function(e){t.$set(t.api,"path",e)},expression:"api.path"}},[a("el-button",{attrs:{slot:"append",type:"primary"},on:{click:t.postRequest},slot:"append"},[t._v("Send")])],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("h3",[t._v("参数")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.toFormat()}}},[t._v("格式化")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入参数"},model:{value:t.api.param,callback:function(e){t.$set(t.api,"param",e)},expression:"api.param"}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("h3",[t._v("返回结果")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("json-viewer",{attrs:{copyable:"",boxed:"",value:JSON.parse(t.api.result)}})],1)],1)],1):t._e()},staticRenderFns:[]};var p=a("VU/8")(r,c,!1,function(t){a("qy2u")},"data-v-264c84c1",null).exports,u={name:"apiDetail",props:{api:{type:Object,default:{}}},components:{apiTest:p},data:function(){return{isTest:!1}},methods:{openTest:function(){this.isTest=!0},closeTest:function(){this.isTest=!1}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[t.isTest?t._e():a("div",[a("el-row",[a("h2",[t._v(t._s(t.api.name))]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.openTest}},[t._v("接口测试")])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-tag",{attrs:{type:"success"}},[t._v("POST")])],1),t._v(" "),a("el-col",{attrs:{span:22}},[a("el-tag",{attrs:{type:"info"}},[t._v(t._s(t.api.path))])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-tag",{attrs:{type:"success"}},[t._v("Content-type")])],1),t._v(" "),a("el-col",{attrs:{span:21}},[a("el-tag",{attrs:{type:"info"}},[t._v("application/json")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-tag",{attrs:{type:"success"}},[t._v("Request Headers")])],1),t._v(" "),a("el-col",{attrs:{span:21}},[a("el-tag",{attrs:{type:"info"}},[t._v("Access-Token: *******")])],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-tag",{attrs:{type:"success"}},[t._v("传参格式")])],1),t._v(" "),a("el-col",{attrs:{span:16}},[a("json-viewer",{attrs:{copyable:"",boxed:"",value:JSON.parse(t.api.param)}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-tag",{attrs:{type:"success"}},[t._v("传参说明")])],1),t._v(" "),a("el-col",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.api.paramList}},[a("el-table-column",{attrs:{property:"fieldName",label:"参数名",width:"220"}}),t._v(" "),a("el-table-column",{attrs:{label:"必填",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isRequired?a("el-tag",{attrs:{type:"warning"}},[t._v("是")]):t._e(),t._v(" "),e.row.isRequired?t._e():a("el-tag",{attrs:{type:"success"}},[t._v("否")])]}}],null,!1,954326513)}),t._v(" "),a("el-table-column",{attrs:{property:"type",label:"数据类型",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{property:"comment",label:"说明"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-tag",{attrs:{type:"success"}},[t._v("返回结果")])],1),t._v(" "),a("el-col",{attrs:{span:16}},[a("json-viewer",{attrs:{copyable:"",boxed:"",value:JSON.parse(t.api.result)}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-tag",{attrs:{type:"success"}},[t._v("结果说明")])],1),t._v(" "),a("el-col",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.api.resultList}},[a("el-table-column",{attrs:{property:"fieldName",label:"参数名",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.row.fieldName)}})]}}],null,!1,1869473094)}),t._v(" "),a("el-table-column",{attrs:{property:"type",label:"类型",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{property:"comment",label:"说明"}})],1)],1)],1)],1),t._v(" "),a("api-test",{attrs:{api:t.api,visible:t.isTest},on:{"on-close":t.closeTest}})],1)},staticRenderFns:[]};var v=a("VU/8")(u,d,!1,function(t){a("qRcX")},"data-v-037dae26",null).exports,f={name:"authDialog",props:{dialogVisible:{type:Boolean,default:!1}},data:function(){return{formValidate:{token:""},ruleValidate:{}}},methods:{handleClose:function(){this.$emit("on-dialog-close")},handleConfirm:function(t){var e=this,a=this;this.$refs[t].validate(function(t){if(t){var l=a.formValidate.token;null===l||0===l.trim().length?localStorage.removeItem("token"):localStorage.setItem("token",l),e.$notify.success("保存成功"),e.$emit("on-dialog-close")}})},handleOpen:function(){var t=localStorage.getItem("token");void 0!==t&&(this.formValidate.token=t)}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"Authentication",visible:t.dialogVisible,"modal-append-to-body":!1,width:"40%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e},open:t.handleOpen}},[a("el-form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"Access-Token",prop:"token"}},[a("el-input",{attrs:{placeholder:"输入token"},model:{value:t.formValidate.token,callback:function(e){t.$set(t.formValidate,"token",e)},expression:"formValidate.token"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleConfirm("formValidate")}}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var _={name:"App",components:{apiDetail:v,authDialog:a("VU/8")(f,m,!1,function(t){a("UV0I")},"data-v-0e47bfe8",null).exports},data:function(){return{moduleList:[],api:{},authVisible:!1,moduleIndexList:[],isExpandAll:!1}},methods:{openApiDetail:function(t){this.api=t},openAuthDialog:function(){this.authVisible=!0},handleAuthClose:function(){this.authVisible=!1},expandAll:function(){var t=[];if(!this.isExpandAll)for(var e=this.moduleList.length,a=0;a<e;a++)t.push(a+"");this.isExpandAll=!this.isExpandAll,this.moduleIndexList=t}},computed:{notEmptyList:function(){var t=[];return this.moduleList.forEach(function(e){e.name.trim().length>0&&e.apiList.length>0&&t.push(e)}),t}},mounted:function(){var t=this;i.a.get("/doc/apiList.json").then(function(e){t.moduleList=e.data}).catch(function(t){console.log(t)})}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-container",{staticClass:"main-container"},[a("el-header",{staticClass:"main-header"},[a("span",{staticClass:"header-font system-title"},[a("i",{staticClass:"el-icon-s-promotion"}),t._v("\n        接口文档"),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:t.expandAll}},[t._v(t._s(t.isExpandAll?"折叠":"展开")+"所有")])],1),t._v(" "),a("div",{staticClass:"main-header-person"},[a("el-button",{attrs:{type:"success",icon:"el-icon-user-solid"},on:{click:t.openAuthDialog}},[t._v("Authentication")])],1)]),t._v(" "),a("el-container",[a("el-aside",{staticClass:"main-aside"},[a("el-menu",{staticClass:"main-menu",attrs:{"default-active":"1","background-color":"#324157","text-color":"#fff","active-text-color":"#ffd04b","default-openeds":t.moduleIndexList}},t._l(t.notEmptyList,function(e,l){return a("el-submenu",{attrs:{index:String(l)}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-tools"}),t._v(" "),a("span",[t._v(t._s(e.name))])]),t._v(" "),t._l(e.apiList,function(e,s){return e.name.trim().length>0?a("el-menu-item",{attrs:{index:String(l+""+s)},on:{click:function(a){return t.openApiDetail(e)}}},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])]):t._e()})],2)}),1)],1),t._v(" "),a("el-main",[a("api-detail",{attrs:{api:t.api}})],1)],1)],1),t._v(" "),a("auth-dialog",{attrs:{"dialog-visible":t.authVisible},on:{"on-dialog-close":t.handleAuthClose}})],1)},staticRenderFns:[]};var b=a("VU/8")(_,h,!1,function(t){a("2Qn3")},null,null).exports,y=a("/ocq");l.default.use(y.a);var g=new y.a({routes:[]}),w=a("zL8q"),k=a.n(w),x=(a("tvR6"),a("R0ti")),V=a.n(x);l.default.use(k.a),l.default.use(V.a),l.default.config.productionTip=!1,new l.default({el:"#app",router:g,components:{App:b},template:"<App/>"})},UV0I:function(t,e){},qRcX:function(t,e){},qy2u:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ef614bb563d4f3fa0884.js.map